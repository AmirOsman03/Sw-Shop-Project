<!DOCTYPE html>
<html lang="mk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SW SHOP - Fixed Navbar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Announcement Bar */
        .announcement-bar {
            background: linear-gradient(90deg, #ec4899 0%, #db2777 100%);
            color: white;
            text-align: center;
            padding: 0.6rem;
            font-size: 0.9rem;
            z-index: 60;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            font-weight: 500;
            letter-spacing: 0.3px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .announcement-bar .icon {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }

        .announcement-bar .close-btn {
            position: absolute;
            right: 15px;
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1rem;
            opacity: 0.8;
            transition: opacity 0.2s;
        }

        .announcement-bar .close-btn:hover {
            opacity: 1;
        }

        .announcement-text {
            overflow: hidden;
            white-space: nowrap;
            box-sizing: border-box;
        }

        .announcement-text span {
            display: inline-block;
            padding-left: 100%;
            animation: marquee 15s linear infinite;
        }

        @keyframes marquee {
            0% {
                transform: translate(0, 0);
            }
            100% {
                transform: translate(-100%, 0);
            }
        }

        .nav-text {
            color: #1f2937;
            transition: color 0.3s ease;
        }

        body.home-page .nav-text {
            color: white;
        }

        body.home-page .nav-scrolled .nav-text {
            color: #1f2937;
        }

        /* Mobile Menu */
        .mobile-menu {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 20rem;
            background: white;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            z-index: 50;
            padding: 1.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
        }

        .mobile-menu.open {
            transform: translateX(0);
        }

        #mobileMenuOverlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 40;
            display: none;
        }

        /* Desktop Nav Items */
        .desktop-nav-item {
            position: relative;
            padding: 0.5rem 0.8rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .desktop-nav-item::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: #ec4899;
            transform: translateX(-50%);
            transition: all 0.3s ease;
        }

        .desktop-nav-item:hover::after {
            width: 80%;
        }

        .desktop-nav-item:hover {
            color: #ec4899;
            transform: translateY(-2px);
        }

        .nav-categories {
            display: flex;
            justify-content: center;
            flex: 1;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            margin-left: auto;
            gap: 0.5rem;
        }

        /* Demo content */
        .demo-content {
            height: 200vh;
            padding-top: 120px;
            text-align: center;
            background: linear-gradient(to bottom, #f8fafc, #e2e8f0);
        }
    </style>
</head>
<body class="home-page">

<!-- Announcement Bar -->
<div class="announcement-bar">
    <div class="icon">üéÄ</div>
    <div class="announcement-text">
        <span>20% –ø–æ–ø—É—Å—Ç –Ω–∞ —Å–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç–∏! –ö—É–ø–∏ —Å–µ–≥–∞ –∏ –¥–æ–±–∏—ò –±–µ—Å–ø–ª–∞—Ç–Ω–∞ –∏—Å–ø–æ—Ä–∞–∫–∞! üéâ</span>
    </div>
</div>

<!-- Navbar -->
<nav id="mainNav" class="fixed w-full top-8 left-0 z-50 transition-all duration-500 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
        <!-- Logo -->
        <a href="{% url 'home' %}"
           class="text-2xl lg:text-3xl font-light tracking-wide nav-text flex items-center gap-1">
            <span>SW</span><span class="font-semibold text-pink-500">SHOP</span>
        </a>

        <!-- Desktop Categories -->
        <div class="hidden md:flex nav-categories space-x-1">
            <a href="{% url 'products' %}" class="desktop-nav-item nav-text">–°–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç–∏</a>
            <a href="{% url 'category_products' 'bras' %}" class="desktop-nav-item nav-text">–ì—Ä–∞–¥–Ω–∏—Ü–∏</a>
            <a href="{% url 'category_products' 'panties' %}" class="desktop-nav-item nav-text">–ö–∏–ª–æ—Ç–∏</a>
            <a href="{% url 'category_products' 'pajamas' %}" class="desktop-nav-item nav-text">–ü–∏–∂–∞–º–∏</a>
            <a href="{% url 'category_products' 'lingerie' %}" class="desktop-nav-item nav-text">–ü—Ä–∏–≤–∞—Ç–Ω–∞</a>
            <a href="{% url 'about_us' %}" class="desktop-nav-item nav-text">–ó–∞ –Ω–∞—Å</a>
            <a href="{% url 'contact' %}" class="desktop-nav-item nav-text">–ö–æ–Ω—Ç–∞–∫—Ç</a>
        </div>


        <!-- User & Mobile -->
        <div class="nav-actions">
            <a href="{% if user.is_authenticated %}{% url 'wishlist' %}{% else %}{% url 'profile_page' %}{% endif %}"
               class="relative p-2 rounded-full hover:bg-gray-200 transition">
                <i class="fas fa-shopping-cart text-xl nav-text"></i>
                {% if user.is_authenticated and wishlist_items_count|default:0 > 0 %}
                    <span class="absolute -top-1 -right-1 bg-pink-500 text-white text-xs w-4 h-4 flex items-center justify-center rounded-full">
                        {{ wishlist_items_count }}
                    </span>
                {% endif %}
            </a>
            <a href="{% url 'profile_page' %}" class="p-2 rounded-full hover:bg-gray-200 transition">
                {% if user.is_authenticated and user.socialaccount_set.first %}
                    {% if user.socialaccount_set.first.get_avatar_url %}
                        <img src="{{ user.socialaccount_set.first.get_avatar_url }}" alt="–ê–≤–∞—Ç–∞—Ä"
                             class="w-8 h-8 rounded-full object-cover border-2 border-pink-500">
                    {% else %}
                        <i class="far fa-user text-xl nav-text"></i>
                    {% endif %}
                {% else %}
                    <i class="far fa-user text-xl nav-text"></i>
                {% endif %}
            </a>
            <button id="menuToggle" class="md:hidden p-2 rounded-full hover:bg-gray-200 transition">
                <i class="fas fa-bars text-xl nav-text"></i>
            </button>
        </div>
    </div>

    <!-- Mobile Menu Overlay -->
    <div id="mobileMenuOverlay"></div>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="mobile-menu">
        <div class="flex justify-between items-center my-8">
            <h2 class="text-xl font-bold text-gray-800">–ú–µ–Ω–∏</h2>
            <button id="closeMenu" class="focus:outline-none text-gray-800">
                <i class="fas fa-times text-lg"></i>
            </button>
        </div>
        <ul class="space-y-4">
            <li><a href="{% url 'home' %}"
                   class="block py-2 px-3 rounded-lg hover:bg-pink-50 hover:text-pink-500 transition">–î–æ–º–∞</a></li>
            <li><a href="{% url 'products' %}"
                   class="block py-2 px-3 rounded-lg hover:bg-pink-50 hover:text-pink-500 transition">–°–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç–∏</a>
            </li>
            <li><a href="{% url 'category_products' 'bras' %}"
                   class="block py-2 px-3 rounded-lg hover:bg-pink-50 hover:text-pink-500 transition">–ì—Ä–∞–¥–Ω–∏—Ü–∏</a></li>
            <li><a href="{% url 'category_products' 'panties' %}"
                   class="block py-2 px-3 rounded-lg hover:bg-pink-50 hover:text-pink-500 transition">–ö–∏–ª–æ—Ç–∏</a></li>
            <li><a href="{% url 'category_products' 'pajamas' %}"
                   class="block py-2 px-3 rounded-lg hover:bg-pink-50 hover:text-pink-500 transition">–ü–∏–∂–∞–º–∏</a></li>
            <li><a href="{% url 'category_products' 'lingerie' %}"
                   class="block py-2 px-3 rounded-lg hover:bg-pink-50 hover:text-pink-500 transition">–ü—Ä–∏–≤–∞—Ç–Ω–∞</a></li>
            <li><a href="{% url 'about_us' %}"
                   class="block py-2 px-3 rounded-lg hover:bg-pink-50 hover:text-pink-500 transition">–ó–∞ –Ω–∞—Å</a></li>
            <li><a href="{% url 'contact' %}"
                   class="block py-2 px-3 rounded-lg hover:bg-pink-50 hover:text-pink-500 transition">–ö–æ–Ω—Ç–∞–∫—Ç</a></li>
        </ul>
    </div>
</nav>

<script>
    // Mobile menu functionality
    const menuToggle = document.getElementById('menuToggle');
    const closeMenu = document.getElementById('closeMenu');
    const mobileMenu = document.getElementById('mobileMenu');
    const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');

    menuToggle.addEventListener('click', () => {
        mobileMenu.classList.add('open');
        mobileMenuOverlay.style.display = 'block';
        document.body.style.overflow = 'hidden';
    });

    closeMenu.addEventListener('click', () => {
        mobileMenu.classList.remove('open');
        mobileMenuOverlay.style.display = 'none';
        document.body.style.overflow = '';
    });

    mobileMenuOverlay.addEventListener('click', () => {
        mobileMenu.classList.remove('open');
        mobileMenuOverlay.style.display = 'none';
        document.body.style.overflow = '';
    });

    // Navbar scroll effect
    const nav = document.getElementById('mainNav');
    const announcementBar = document.querySelector('.announcement-bar');
    const announcementHeight = announcementBar.offsetHeight;

    // Set initial position based on announcement bar
    nav.style.top = `${announcementHeight}px`;

    if (document.body.classList.contains('home-page')) {
        window.addEventListener('scroll', () => {
            if (window.scrollY > 10) {
                nav.classList.add('nav-scrolled');
                nav.style.background = 'white';
                nav.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.1)';
            } else {
                nav.classList.remove('nav-scrolled');
                nav.style.background = 'transparent';
                nav.style.boxShadow = 'none';
            }
        });
    } else {
        nav.classList.add('nav-scrolled');
    }

    // Announcement bar close functionality
    document.querySelector('.announcement-bar .close-btn').addEventListener('click', function () {
        const announcementBar = document.querySelector('.announcement-bar');
        announcementBar.style.display = 'none';
        document.getElementById('mainNav').style.top = '0';
    });

    // Fix for mobile viewport height
    function setVH() {
        let vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', `${vh}px`);
    }

    setVH();
    window.addEventListener('resize', setVH);
</script>

</body>
</html>